---
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import { SITE, HOME } from "@consts";
import Link from "@components/Link.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";
import Contacts from "@components/Contacts.astro";
import FeaturedContents from "@components/FeaturedContents.astro";

const projects: CollectionEntry<"projects">[] = (
  await getCollection("projects")
)
  .filter((project) => !project.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, SITE.NUM_PROJECTS_ON_HOMEPAGE);
---

<Layout title={HOME.TITLE} description={HOME.DESCRIPTION}>
  <Container>
    <aside data-pagefind-ignore>
      <h1 class="font-semibold text-black dark:text-white">
        Welcome to {SITE.TITLE}!
      </h1>
      <div class="space-y-16">
        <section>
          <article class="space-y-4">
            <span>
              <p>
                I'm Ste, a passionate Full-Stack Developer who loves to build
                web apps, websites and games.
              </p>
              <p>
                I created this little space on the world wide web to collect my
                projects and share some useful resources with you.
              </p>
            </span>
            <span class="animate">
              <p>
                Most of these resources are for game development and in
                particular for the <Link
                  href="https://godotengine.org/"
                  external>Godot Engine</Link
                >, because it is the technology I decided to use for developing
                my games (and I love it! ðŸ¥°)
              </p>
              <p>
                To get started jump to the <Link href="/projects">Projects</Link
                >
                and <Link href="/resources">Resources</Link> sections or check out
                some of the featured contents below.
              </p>
            </span>
          </article>
        </section>
        <FeaturedContents title="Featured Projects" contents={projects} />
        <Contacts />
      </div>
    </aside>
  </Container>
</Layout>
